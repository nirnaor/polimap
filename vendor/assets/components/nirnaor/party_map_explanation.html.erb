<!DOCTYPE html>
<html>
  <head>
  <!-- <link rel="import" --> 
  <!-- href="../paper-dialog/paper-action-dialog.html"> -->
  <!--   <link rel="import" --> 
  <!--   href="../paper-button/paper-button.html"> -->
  <!--     </head> -->
  <body>
    <polymer-element name="polymer-gil" extends="paper-action-dialog">
      <script>
        Polymer();
      </script>
    </polymer-element>

<polymer-element name="party-map-explanation" >
     <template>
     <style>
      paper-action-dialog{
        height: 700px;
        width: 700px;
        position: fixed;
        outline:none;
        z-index: 12;
        top: 25%;
        left: 25%;
      }
      core-toolbar{
        background: rgb(84, 153 , 226);
      }
     </style>
                <paper-action-dialog id="dialog" backdrop=""
                autoclosedisabled="" layered="false" role="dialog" layout=""
                                                                   vertical="" tabindex="-1" >




                    <core-toolbar class="core-header">
                    <div>מפה מפלגתית</div>
                    </core-toolbar>
                    <div class="explanation">



                      מפה מפלגתית היא מפת חום אשר מציגה נתונים של מפלגה אחת בלבד. אם מפלגה מסויימת מצליחה באיזור מסוים, האיזור יהיה כהה יותר.

                      <h3>
                      איך זה קורה?
                      </h3>
                      לכל עיר מחושב משקל ועל ידי הצגת כל המשקלים יחדיו המפה מקבלת את הגוון שלה. ככל שהמשקל של עיר יהיה גבוה יותר, האיזור של העיר יהיה כהה יותר


                      <h3>
                      איך נעשה החישוב?
                      </h3>
                      לכל מפלגה יש משקל בכל עיר. אם המפלגה זכתה במקום הראשון בעיר היא תקבל משקל 11 (כמספר המפלגות שעברו את אחוז החסימה). אם המפלגה זכתה במקום האחרון בעיר היא תקבל משקל 0.


                    </div>


                    <paper-button affirmative="" autofocus="" role="button"
                    tabindex="0">
                      הבנתי
                    </paper-button>




                </paper-action-dialog>

    </template>
    <script>
      Polymer({
        toggle: function(){
          console.log("toggling");
          this.$.dialog.toggle();
        }
      });
    </script>
</polymer-element>

<polymer-element name="right-to-left-explanation" >
     <template>
     <style>
      paper-action-dialog{
        height: 700px;
        width: 700px;
        position: fixed;
        outline:none;
        z-index: 12;
        top: 25%;
        left: 25%;
      }
      img{
        float: left;
        width: 50%;
    }
      core-toolbar{
        background: rgb(84, 153 , 226);
      }
     </style>
                <paper-action-dialog id="dialog" backdrop=""
                autoclosedisabled="" layered="false" role="dialog" layout=""
                                                                   vertical="" tabindex="-1" >


                    <core-toolbar class="core-header">
                    <div>מפת ימין שמאל</div>
                    </core-toolbar>


                    <div class="explanation">
                      מפת ימין שמאל הינה מפת חום המציגה את מדינת ישראל לפי השתייכות פוליטית. ככל שהאיזור יותר ימני, המפה תהיה כהה יותר. ככל שהאיזור יותר שמאלי, המפה תהיה בהירה יותר.

                      <h3>
                        איך זה קורה?
                      </h3>


לכל עיר מחושב משקל ועל ידי הצגת כל המשקלים יחדיו המפה מקבלת את הגוון שלה. ככל שהמשקל של עיר יהיה גבוה יותר, האיזור של העיר יהיה כהה יותר  
                      <h3>
                      איך נעשה החישוב?
                      </h3>
                      המפלגות מסודרות לפי הסדר מימין לשמאל. לכל מפלגה יש ציון קבוע שמשקף את מידת הימניות שלה (לצורך החישוב יכלתי לבחור גם הפוך)
                      <ul id="list">
                      </ul>

                      <b>
                      חשוב לציין - המכפלות של המפלגות נעשו לפי הבנתי האישית על הזרמים הפוליטים במדינה. אני חושב שלפחות עבור מפלגות הימין (בית יהודי וליכוד), ושמאל (חדש,בלד,מרצ, עבודה) לא יהיו חילוקי דעות. כל מפלגות המרכז קיבלו משקל שווה. החרדים קיבלו גם משקל שווה, אך יותר קרוב לימין מכיוון שכך אני מבין. 
                      </b>

                      </br>
                      משקל של מפלגה בעיר הוא

                      אחוז המצביעים למפלגה בעיר * המשקל הקבוע של המפלגהֿ.



                      המשקל של עיר הוא סכום המשקלים של המפלגות בעיר


                      <h3>
                      נציג לדוגמה את העיר חולון:
                      </h3>
                      <%= image_tag "chulon.png" %>
                      <%# <img src="/assets/chulon.png"/> %>
                      החישוב של העיר הוא כאמור סכום המשקלים של המפלגות.

                      <ul>
                        <li>
                      ליכוד - 
                      0.32 * 15,000 = 4800
                        </li>
                        <li>
                      יש עתיד  - 
                      0.2 * 500 = 100
                        </li>
                        <li>
                      העבודה - 
                      0.14 * 40 = 78.4
                        </li>
                      </ul>
                      

                      אם תמשיכו את החישוב עבור כל המפלגות, ותסכמו את המשקלים בעיר חולון, תגיעו ל 6562, כפי שכתוב בחלונית של העיר.(על מנת לראות את החלונית יש ללחוץ על ״כנס פנימה״ או לעשות זום-אין.




                    </div>

                    <paper-button affirmative="" autofocus="" role="button"
                    tabindex="0">
                      הבנתי
                    </paper-button>

                </paper-action-dialog>

    </template>
    <script>
      Polymer({
        toggle: function(){
          console.log(this.parties_multipliers);

          parties = Object.keys(this.parties_multipliers)
          for(party in this.parties_multipliers){
            party_multiplier = this.parties_multipliers[party]
            list_item = document.createElement("li");
            list_item.innerHTML = party + ":" + party_multiplier;
            this.$.list.appendChild(list_item);

          }
          this.$.dialog.toggle();
        }
      });
    </script>
</polymer-element>
<polymer-element name="about-this" >
     <template>
     <style>
      paper-action-dialog{
        height: 700px;
        width: 700px;
        position: fixed;
        outline:none;
        z-index: 12;
        top: 25%;
        left: 25%;
      }
      core-toolbar{
        background: rgb(84, 153 , 226);
      }
     </style>
                <paper-action-dialog id="dialog" backdrop=""
                autoclosedisabled="" layered="false" role="dialog" layout=""
                vertical="" tabindex="-1" >




                    <core-toolbar class="core-header">
                    <div>מה הולך פה?</div>
                    </core-toolbar>
                    <div class="explanation">


                      הפרוייקט הזה מציג מפת חום של מדינת ישראל, מימין לשמאל. כל הנתונים של המפה נלקחו בצורה חוקית 
                      <a target="_blank" href="http://www.votes-19.gov.il/nationalresults">מהאתר של הכנסת</a>
                      





                      , על ידי קובץ שניתן להורדה.
                      המטרה של הפרוייקט הזה היא איננה פוליטית. בניתי אותו בעיקר כי רציתי להתעסק במספר טכנולוגיות שלא הכרתי עדיין:
                      <ul>
                        <li>
                          <a target="_blank" href="https://developers.google.com/maps/documentation/javascript/">Google maps JS api</a>
                        </li>
                        <li>
                          <a target="_blank" href="https://developers.google.com/maps/documentation/geocoding/">The Google Geocoding API</a>
                        </li>
                        <li>
                          <a target="_blank" href="https://www.polymer-project.org/0.5/">Polymer-project</a>
                        </li>

                      </ul>

                      
                      
                      

                      <h3>
                      מה הלאה?
                      </h3>
                      אם יש לכם שאלות לגבי הפרוייקט, רעיון לתוספות מעניינות או סתם משהו להגיד, אתם מוזמנים ליצור איתי קשר <a target="_blank" href="https://twitter.com/nir_naor" class="twitter-follow-button" data-show-count="false" data-lang="he">בטוויטר</a>
                      או <a target="_blank" href="https://www.facebook.com/nirnaori"> בפייסבוק </a>



                                            <h3>
                      רוצים לעזור?
                                            </h3>
                                            בפועל אני חושב שיכלתי לעשות עבודה טובה יותר אם היה לי יותר זמן. מכיוון שרציתי לפרסם את הפרוייקט הזה לפני הבחירות,  נאלצתי לעשות פתרונות עקומים מדי פעם. אם בא לכם לעזור, מוזמנים ליצור 
                                            

                      <a target="_blank" href="https://github.com/nirnaor/polimap">pull request. </a>
                                           
                                            




                    </div>


                    <paper-button affirmative="" autofocus="" role="button"
                    tabindex="0">
                      הבנתי
                    </paper-button>




                </paper-action-dialog>

    </template>
    <script>
      Polymer({
        toggle: function(){
          console.log("toggling");
          this.$.dialog.toggle();
        }
      });
    </script>
</polymer-element>

<right-to-left-explanation>
</right-to-left-explanation>


    <script>
        <!-- fn = function(){ -->
        <!--   explanation = document.querySelector("right-to-left-explanation"); -->
        <!--   document.body.appendChild(explanation); -->
        <!--   explanation.toggle(); -->
        <!-- }; -->
        <!-- document.addEventListener('DOMContentLoaded', fn); -->
    </script>
  </body>
</html>
